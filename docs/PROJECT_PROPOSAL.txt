PROJECT PARVA: A RITUAL TIME ENGINE FOR NEPALI FESTIVAL DATE CALCULATION

BSc CSIT Final Year Project Proposal

Submitted By: Prabin Ghimire
Program: Bachelor of Science in Computer Science and Information Technology (BSc CSIT)
Semester: VII
Date: February 2026


TABLE OF CONTENTS

1. Introduction
2. Problem Statement
3. Objectives
4. Methodology
   4.1 Study of Existing System / Literature Review
   4.2 Requirement Analysis
   4.3 Feasibility Study
   4.4 Schedule (Gantt Chart)
5. High Level Design of System
6. Expected Outcome
7. References


1. INTRODUCTION

Nepal uses multiple calendar systems for different purposes. The official Bikram Sambat (BS) calendar is used in government and daily life. The Nepal Sambat (NS) calendar is used by Newar communities for traditional observances. Many Buddhist festivals follow the Tibetan lunar calendar. The Gregorian calendar is used for international purposes.

Most Nepali religious festivals do not fall on fixed dates. They are determined by lunisolar calculations involving the tithi (lunar day), the BS month, and astronomical events like full moons and new moons. A festival like Dashain might fall in late September one year and mid-October the next, depending on when Ashwin Shukla Pratipada occurs.

This shifting calendar creates practical problems, particularly for Nepalis living abroad who use Gregorian-based calendar applications. Existing solutions either lack programmatic access or do not explain the cultural significance of festivals.

This project will develop a Nepali Festival Date API and Cultural Documentation System that calculates festival dates using the same computational logic that traditional panchang makers use. The project will also document the cultural context of each festival, including mythology and ritual sequences.

1.1 Scope and Limitations

This project covers:
- Date conversion between Bikram Sambat and Gregorian calendars for years 2070-2095 BS (2013-2038 CE), based on available verified panchang data
- Festival date calculation rules for 50 festivals, with validation performed for years 2080-2090 BS
- Web-based interface for festival browsing and date lookup
- REST API for programmatic access

We prioritize 15 major festivals for detailed ritual documentation due to time constraints and the need for verification against multiple sources. Regional variations where different districts observe festivals on different days are treated as out of scope and documented as future work.

Limitations:
- Tithi calculations use synodic month approximation rather than precise ephemeris data. Based on preliminary testing, we expect this may result in dates that differ by one day in some cases, particularly when a tithi changes during the day. Final accuracy will be reported in the evaluation (Objective 6).
- Nepal Sambat conversions are approximated using lunar phase calculations rather than traditional NS panchang rules.
- Festivals specific to very small communities or castes are not included.


2. PROBLEM STATEMENT

Determining Nepali festival dates is currently a manual or inconsistent process for most people outside Nepal.

The first problem is inconsistency across sources. Different calendar applications and printed panchang may show different dates for the same festival. This happens because publishers may use slightly different astronomical constants or interpretation rules. For tithi-based festivals, the question of which Gregorian day the tithi falls on depends on the time of day used for calculation.

The second problem is lack of programmatic access. Popular applications like Nepal Patro and Hamro Patro provide festival listings but do not offer public APIs. Developers building travel apps, event platforms, or diaspora community tools must manually maintain their own festival date lists, which can quickly become outdated.

The third problem is documentation. Existing calendar applications show dates but not cultural context. Users can see that Dashain falls on a particular date but cannot learn why Dashain involves specific rituals or what mythology underlies the festival.

According to Nepal's 2021 census, 2.2 million Nepali citizens live outside the country [1]. Many diaspora families attempt to observe festivals according to Nepal's dates but lack reliable information that accounts for time zone differences.


3. OBJECTIVES

The objectives of this project are:

1. To implement a Bikram Sambat date conversion module using lookup tables derived from government panchang sources, enabling bidirectional conversion for years 2070-2095 BS.

2. To implement a tithi calculation module using synodic month approximation, with expected accuracy to be measured and reported in the evaluation phase.

3. To create a festival rules engine encoding date calculation rules for 50 festivals, including fixed-date, tithi-based, and relative-date festival types.

4. To build a web application allowing users to browse festivals, view upcoming dates, and read associated cultural content including mythology and ritual descriptions.

5. To provide a REST API with documented endpoints for external applications to access festival date data.

6. To evaluate system accuracy by comparing calculated dates for 15 major festivals across 3 years (2082, 2083, 2084 BS) against the official Nepal government holiday list and Rashtriya Panchang. A "match" is defined as the calculated main day matching the official main day for single-day festivals, or the calculated start date matching the official start date for multi-day festivals.


4. METHODOLOGY

This project follows a structured software development approach with phases for analysis, design, implementation, and testing.

4.1 Study of Existing System / Literature Review

4.1.1 Calendar Systems in Nepal

The Bikram Sambat calendar has been used in Nepal for official purposes since the early twentieth century. It is a lunisolar calendar where month lengths are determined by astronomical calculations and vary between 29 and 32 days. Each year's month lengths are published in the Rashtriya Panchang by the Calendar Determination Committee under Nepal Academy [2].

Nepal Sambat is an indigenous calendar dating to 879 CE, still used by Newar communities. The NS New Year falls on the day after Kartik Amavasya (new moon of Kartik).

The tithi system is fundamental to Hindu festival dating. A lunar month contains 30 tithis, divided into two fortnights: Shukla Paksha (bright/waxing, tithis 1-15) and Krishna Paksha (dark/waning, tithis 1-15). A tithi represents the time for the Moon to move 12 degrees relative to the Sun, approximately 23.6 hours on average. Because a tithi is shorter than a solar day, a tithi can skip a day or a day can contain two tithis, which is the source of complexity in festival dating [3].

4.1.2 Existing Applications

Nepal Patro is a widely-used mobile application providing BS calendar and festival listings. It is reliable for date lookups and has a large user base [4]. However, it does not provide an API, does not include festival mythology, and is closed-source.

Hamro Patro is another popular option with similar features, including additional content like news and weather [5]. It also lacks API access and cultural documentation.

Neither application exposes the logic used for date calculations, making independent verification difficult.

4.1.3 Computational Approach

For tithi calculation, two main approaches exist:

The precise approach uses ephemeris data (such as JPL DE405) to calculate exact solar and lunar longitudes, then determines tithi from their angular difference.

The approximate approach uses the mean synodic month (29.53059 days) relative to a known new moon reference date. This project uses the approximate approach due to its simplicity of implementation. The approach introduces some error because the actual synodic month varies between 29.27 and 29.83 days due to orbital eccentricity. We chose the reference date of January 21, 2023 (a verified new moon) and calculate phases relative to Nepal Standard Time (UTC+5:45).

For Bikram Sambat conversion, no mathematical formula exists because month lengths are irregular and determined by astronomical committees. The project uses lookup tables containing month lengths from Rashtriya Panchang [2]. The lookup approach is accurate within the correctness of the official table data.

4.2 Requirement Analysis

4.2.1 Functional Requirements

FR1: The system shall convert dates between BS and Gregorian calendars for years 2070-2095 BS.
FR2: The system shall calculate tithi and paksha for any date in the supported range.
FR3: The system shall compute festival dates for years 2080-2090 BS using encoded rules.
FR4: The system shall display festival information including name (English and Nepali), dates, and description.
FR5: The system shall provide detailed mythology descriptions for 15 major festivals.
FR6: The system shall provide day-by-day ritual descriptions for multi-day festivals (Dashain, Tihar).
FR7: The system shall expose a REST API returning JSON responses.
FR8: The system shall allow searching festivals by name.
FR9: The system shall display associated temples on an interactive map.
FR10: The system shall work on both desktop and mobile browsers.

4.2.2 Non-Functional Requirements

Performance: API requests should respond within 500ms under normal conditions (single user, local network).

Accuracy: Calendar conversion should match reference panchang within the lookup table range. For tithi-based festival dates, the target is at least 90% agreement with Rashtriya Panchang, to be measured in evaluation.

Maintainability: Festival data should be stored in JSON format, allowing updates without code changes.

4.3 Feasibility Study

4.3.1 Technical Feasibility

The backend will use Python with FastAPI framework. Python provides datetime handling and mathematical functions needed for calendar calculations. FastAPI generates interactive API documentation automatically.

The frontend will use React for component-based user interface development. The mapping feature will use Leaflet with OpenStreetMap tiles.

Preliminary testing of the calendar conversion module was performed against a sample of dates from Rashtriya Panchang 2080 BS, with all tested conversions matching. Tithi calculation was tested against known new moon dates, with most matching exactly and a few showing one-day offset at boundary cases. Detailed results will be documented in the final evaluation.

The main technical risk is tithi accuracy near boundaries. This will be mitigated by documenting known limitations and flagging dates where the calculated tithi is close to a boundary.

4.3.2 Operational Feasibility

The system is web-based and accessible via browser without installation. Target users can access it from any device with internet connection.

4.3.3 Economic Feasibility

All development tools are free and open-source. Hosting can use free tiers of platforms like Vercel or Railway for a demonstration system. The only potential cost is a domain name.

4.4 Schedule (Gantt Chart)

The project spans the seventh semester, aligned with TU evaluation milestones:

Phase 1: Proposal (Weeks 1-4)
- Week 1-2: Literature review, initial requirements
- Week 3: Proposal document preparation
- Week 4: Proposal defense

Phase 2: Development (Weeks 5-10)
- Week 5: Backend calendar conversion module
- Week 6: Backend tithi calculation and festival rules engine
- Week 7: Backend API endpoints
- Week 8: Frontend core components
- Week 9: Frontend map integration
- Week 10: Content entry (mythology, rituals for 15 major festivals)

Phase 3: Midterm (Weeks 10-11)
- Week 10: Integration testing
- Week 11: Midterm defense

Phase 4: Refinement (Weeks 12-14)
- Week 12: Bug fixes based on midterm feedback
- Week 13: Additional festival content (remaining festivals with basic info)
- Week 14: Documentation and final testing

Phase 5: Final (Week 15)
- Week 15: Final defense

Gantt Chart:

Task                          W1 W2 W3 W4 W5 W6 W7 W8 W9 W10 W11 W12 W13 W14 W15
Literature Review             XX XX
Proposal Preparation             XX XX
Proposal Defense                    XX
Calendar Module                        XX
Tithi + Rules Engine                      XX
API Development                              XX
Frontend Core                                   XX
Map Integration                                    XX
Content Entry                                         XX
Integration Testing                                      XX
Midterm Defense                                             XX
Bug Fixes                                                      XX
Additional Content                                                XX
Documentation                                                        XX
Final Defense                                                           XX


5. HIGH LEVEL DESIGN OF SYSTEM

5.1 System Architecture

The system consists of four layers:

Client Layer:
- React-based single-page application
- Leaflet map component for temple locations
- Responsive CSS for mobile support

API Layer:
- FastAPI application with three main route groups
- GET /api/festivals: List all festivals or filter by month/category
- GET /api/festivals/{id}: Get detailed festival information including dates
- GET /api/calendar/convert: Convert between BS and Gregorian dates
- GET /api/temples: Get temple locations and associated festivals

Engine Layer:
- Bikram Sambat module: Lookup-based conversion using BS_MONTH_LENGTHS table
- Tithi module: Synodic month approximation with phase-to-tithi mapping
- Festival Rules module: Maps festival ID to calculation function

Data Layer:
- festivals.json: Festival metadata, mythology, ritual sequences
- temples.json: Temple coordinates and festival associations

5.2 Description of Algorithms

5.2.1 Bikram Sambat Conversion

The BS calendar has no formula for month lengths. The system uses a precomputed table:

BS_MONTH_LENGTHS = {
    2070: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
    2071: [31, 31, 32, 31, 31, 31, 30, 29, 30, 29, 30, 30],
    ...
    2095: [31, 32, 31, 32, 31, 30, 30, 30, 29, 30, 29, 31],
}

Conversion algorithm (Gregorian to BS):
1. Set a reference point: 2070 Baishakh 1 = 2013 April 14
2. Count days from reference date to target date
3. Starting from 2070, subtract year totals until remaining days fit in current year
4. Within year, subtract month totals until remaining days fit in current month
5. Remaining days + 1 = day of month

This lookup approach is accurate within the correctness of the official table data.

5.2.2 Tithi Calculation

The system uses synodic month approximation:

SYNODIC_MONTH = 29.53059 days
KNOWN_NEW_MOON = date(2023, 1, 21)  # Verified new moon in Nepal time

def calculate_moon_phase(target_date):
    days_since = (target_date - KNOWN_NEW_MOON).days
    phase = (days_since % SYNODIC_MONTH) / SYNODIC_MONTH
    return phase  # 0.0 = new moon, 0.5 = full moon

def calculate_tithi(target_date):
    phase = calculate_moon_phase(target_date)
    tithi_raw = phase * 30  # Convert to tithi scale
    
    if tithi_raw < 15:
        return (int(tithi_raw) + 1, "shukla")
    else:
        return (int(tithi_raw - 15) + 1, "krishna")

This is an approximation. The actual synodic month varies by about 7 hours due to orbital eccentricity, which can shift the calculated tithi by one position near boundaries. The system documentation will note this limitation.

5.2.3 Festival Rules

Each festival has an associated rule type:

FESTIVAL_RULES = {
    "dashain": {"type": "tithi", "month": 6, "paksha": "shukla", "tithi": 1, "duration": 15},
    "tihar": {"type": "relative", "base": "kartik_amavasya", "offset": -1, "duration": 5},
    "nepali_new_year": {"type": "fixed", "month": 1, "day": 1},
    "maghe_sankranti": {"type": "fixed", "month": 10, "day": 1},
    ...
}

The festival engine interprets these rules and calls the appropriate calculator:
- "fixed": Uses BS date directly
- "tithi": Finds the next occurrence of the specified tithi in the specified month
- "relative": Calculates from another festival or lunar event


6. EXPECTED OUTCOME

At the end of this project, the following will be delivered:

1. A web application where users can view a list of Nepali festivals, see calculated dates for current and future years within the supported range, and read cultural descriptions.

2. A REST API with documented endpoints that returns festival data in JSON format.

3. Calendar conversion utilities implemented and tested for the 2070-2095 BS range.

4. Documentation of 50 festivals with varying levels of detail: full mythology, ritual sequences, and cultural context for 15 major festivals; brief descriptions for the remaining 35.

5. An evaluation report comparing calculated dates against official sources for 15 festivals across 3 years (45 data points), with analysis of any discrepancies and their causes.

6. Source code with inline documentation and a README for future maintenance.

6.1 Future Work

Potential extensions beyond this project include:
- Implementing precise tithi calculation using ephemeris data for improved accuracy
- Adding support for Tibetan calendar calculations
- Documenting regional festival variations where different districts observe different dates


7. REFERENCES

[1] Central Bureau of Statistics, "National Population and Housing Census 2021: National Report," Kathmandu: Government of Nepal, 2022. [Online]. Available: https://censusnepal.cbs.gov.np/results/downloads/national. [Accessed: Feb. 3, 2026].

[2] Calendar Determination Committee, "Rashtriya Panchang 2080 BS," Kathmandu: Nepal Academy, 2023. [Note: Print publication distributed by Nepal Academy; no online version available.]

[3] N. D. Sharma, The Religious Festivals of the Hindus of Nepal. Kathmandu: Ratna Pustak Bhandar, 2015.

[4] Jehan Canlas, "Nepal Patro: Nepali Calendar," Version 7.0.1, Mobile application, 2024. [Online]. Available: https://play.google.com/store/apps/details?id=com.jehan.nepali.patro. [Accessed: Feb. 3, 2026].

[5] Jeewan Parajuli (Jeewan Ventures), "Hamro Patro," Version 8.4.8, Mobile application, 2024. [Online]. Available: https://play.google.com/store/apps/details?id=com.nickchin.hamropatro. [Accessed: Feb. 3, 2026].

[6] J. Meeus, Astronomical Algorithms, 2nd ed. Richmond, VA: Willmann-Bell, 1998.
